<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Standardize and center variables — std • sjmisc</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Standardize and center variables — std" />

<meta property="og:description" content="std() computes a z-transformation (standardized and centered)
  on the input. center() centers the input. std_if() and
  center_if() are scoped variants of std() and center(),
  where transformation will be applied only to those variables that match the
  logical condition of predicate." />

<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sjmisc</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">2.7.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/design_philosophy.html">The Design Philosophy of Functions in sjmisc</a>
    </li>
    <li>
      <a href="../articles/exploringdatasets.html">Exploring Data Sets</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/strengejacke/sjmisc">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Standardize and center variables</h1>
    <small class="dont-index">Source: <a href='https://github.com/strengejacke/sjmisc/blob/master/R/std.R'><code>R/std.R</code></a></small>
    <div class="hidden name"><code>std.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p><code>std()</code> computes a z-transformation (standardized and centered)
  on the input. <code>center()</code> centers the input. <code>std_if()</code> and
  <code>center_if()</code> are scoped variants of <code>std()</code> and <code>center()</code>,
  where transformation will be applied only to those variables that match the
  logical condition of <code>predicate</code>.</p>
    
    </div>

    <pre class="usage"><span class='fu'>std</span>(<span class='no'>x</span>, <span class='no'>...</span>, <span class='kw'>robust</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"sd"</span>, <span class='st'>"2sd"</span>, <span class='st'>"gmd"</span>, <span class='st'>"mad"</span>), <span class='kw'>include.fac</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>append</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>suffix</span> <span class='kw'>=</span> <span class='st'>"_z"</span>)

<span class='fu'>std_if</span>(<span class='no'>x</span>, <span class='no'>predicate</span>, <span class='kw'>robust</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"sd"</span>, <span class='st'>"2sd"</span>, <span class='st'>"gmd"</span>, <span class='st'>"mad"</span>),
  <span class='kw'>include.fac</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>append</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>suffix</span> <span class='kw'>=</span> <span class='st'>"_z"</span>)

<span class='fu'>center</span>(<span class='no'>x</span>, <span class='no'>...</span>, <span class='kw'>include.fac</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>append</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>suffix</span> <span class='kw'>=</span> <span class='st'>"_c"</span>)

<span class='fu'>center_if</span>(<span class='no'>x</span>, <span class='no'>predicate</span>, <span class='kw'>include.fac</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>append</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>suffix</span> <span class='kw'>=</span> <span class='st'>"_c"</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A vector or data frame.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Optional, unquoted names of variables that should be selected for
further processing. Required, if <code>x</code> is a data frame (and no
vector) and only selected variables from <code>x</code> should be processed.
You may also use functions like <code>:</code> or tidyselect's
<code><a href='http://www.rdocumentation.org/packages/tidyselect/topics/select_helpers'>select_helpers</a></code>.
See 'Examples' or <a href='../doc/design_philosophy.html'>package-vignette</a>.</p></td>
    </tr>
    <tr>
      <th>robust</th>
      <td><p>Character vector, indicating the method applied when
standardizing variables with <code>std()</code>. By default, standardization is
achieved by dividing the centered variables by their standard deviation
(<code>robust = "sd"</code>). However, for skewed distributions, the median
absolute deviation (MAD, <code>robust = "mad"</code>) or Gini's mean difference
(<code>robust = "gmd"</code>) might be more robust measures of dispersion. For
the latter option, <a href='https://CRAN.R-project.org/package=sjstats'><span class="pkg">sjstats</span></a> needs to be installed.
<code>robust = "2sd"</code> divides the centered variables by two standard
deviations, following a suggestion by <em>Gelman (2008)</em>, so the
rescaled input is comparable to binary variables.</p></td>
    </tr>
    <tr>
      <th>include.fac</th>
      <td><p>Logical, if <code>TRUE</code>, factors will be converted to numeric
vectors and also standardized or centered.</p></td>
    </tr>
    <tr>
      <th>append</th>
      <td><p>Logical, if <code>TRUE</code> (the default) and <code>x</code> is a data frame,
<code>x</code> including the new variables as additional columns is returned;
if <code>FALSE</code>, only the new variables are returned.</p></td>
    </tr>
    <tr>
      <th>suffix</th>
      <td><p>String value, will be appended to variable (column) names of
<code>x</code>, if <code>x</code> is a data frame. If <code>x</code> is not a data
frame, this argument will be ignored. The default value to suffix
column names in a data frame depends on the function call:</p><ul>
<li><p>recoded variables (<code><a href='rec.html'>rec()</a></code>) will be suffixed with <code>"_r"</code></p></li>
<li><p>recoded variables (<code><a href='recode_to.html'>recode_to()</a></code>) will be suffixed with <code>"_r0"</code></p></li>
<li><p>dichotomized variables (<code><a href='dicho.html'>dicho()</a></code>) will be suffixed with <code>"_d"</code></p></li>
<li><p>grouped variables (<code><a href='split_var.html'>split_var()</a></code>) will be suffixed with <code>"_g"</code></p></li>
<li><p>grouped variables (<code><a href='group_var.html'>group_var()</a></code>) will be suffixed with <code>"_gr"</code></p></li>
<li><p>standardized variables (<code>std()</code>) will be suffixed with <code>"_z"</code></p></li>
<li><p>centered variables (<code>center()</code>) will be suffixed with <code>"_c"</code></p></li>
</ul></td>
    </tr>
    <tr>
      <th>predicate</th>
      <td><p>A predicate function to be applied to the columns. The
variables for which <code>predicate</code> returns <code>TRUE</code> are selected.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>If <code>x</code> is a vector, returns a vector with standardized or
  centered variables. If <code>x</code> is a data frame, for <code>append = TRUE</code>,
  <code>x</code> including the transformed variables as new columns is returned;
  if <code>append = FALSE</code>, only the transformed variables will be returned.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>std()</code> and <code>center()</code> also work on grouped data frames
  (see <code><a href='http://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></code>). In this case, standardization
  or centering is applied to the subsets of variables in <code>x</code>.
  See 'Examples'.
  <br /> <br />
  For more complicated models with many predictors, Gelman and Hill (2007)
  suggest leaving binary inputs as is and only standardize continuous predictors
  by dividing by two standard deviations. This ensures a rough comparability
  in the coefficients.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p><code>std()</code> and <code>center()</code> only return a vector, if <code>x</code> is
  a vector. If <code>x</code> is a data frame and only one variable is specified
  in the <code>...</code>-ellipses argument, both functions do return a
  data frame (see 'Examples').</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Gelman A (2008) Scaling regression inputs by dividing by two
  standard deviations. <em>Statistics in Medicine 27: 2865–2873.</em>
  <a href='http://www.stat.columbia.edu/~gelman/research/published/standardizing7.pdf'>http://www.stat.columbia.edu/~gelman/research/published/standardizing7.pdf</a>
  <br /> <br />
  Gelman A, Hill J (2007) Data Analysis Using Regression and Multilevel/Hierarchical
  Models. Cambdridge, Cambdrige University Press: 55-57</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>data</span>(<span class='no'>efc</span>)
<span class='fu'>std</span>(<span class='no'>efc</span>$<span class='no'>c160age</span>) <span class='kw'>%&gt;%</span> <span class='fu'>head</span>()</div><div class='output co'>#&gt; [1]  0.19002509  0.04023278  1.98753275  1.16367507 -0.48404028  0.19002509</div><div class='input'><span class='fu'>std</span>(<span class='no'>efc</span>, <span class='no'>e17age</span>, <span class='no'>c160age</span>, <span class='kw'>append</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>) <span class='kw'>%&gt;%</span> <span class='fu'>head</span>()</div><div class='output co'>#&gt; # A tibble: 6 x 2
#&gt;   e17age_z c160age_z
#&gt;      &lt;dbl&gt;     &lt;dbl&gt;
#&gt; 1    0.479    0.190 
#&gt; 2    1.10     0.0402
#&gt; 3    0.356    1.99  
#&gt; 4   -1.50     1.16  
#&gt; 5    0.603   -0.484 
#&gt; 6    0.726    0.190 </div><div class='input'>
<span class='fu'>center</span>(<span class='no'>efc</span>$<span class='no'>c160age</span>) <span class='kw'>%&gt;%</span> <span class='fu'>head</span>()</div><div class='output co'>#&gt; [1]  2.5371809  0.5371809 26.5371809 15.5371809 -6.4628191  2.5371809</div><div class='input'><span class='fu'>center</span>(<span class='no'>efc</span>, <span class='no'>e17age</span>, <span class='no'>c160age</span>, <span class='kw'>append</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>) <span class='kw'>%&gt;%</span> <span class='fu'>head</span>()</div><div class='output co'>#&gt; # A tibble: 6 x 2
#&gt;   e17age_c c160age_c
#&gt;      &lt;dbl&gt;     &lt;dbl&gt;
#&gt; 1     3.88     2.54 
#&gt; 2     8.88     0.537
#&gt; 3     2.88    26.5  
#&gt; 4   -12.1     15.5  
#&gt; 5     4.88    -6.46 
#&gt; 6     5.88     2.54 </div><div class='input'>
<span class='co'># NOTE!</span>
<span class='fu'>std</span>(<span class='no'>efc</span>$<span class='no'>e17age</span>) <span class='co'># returns a vector</span></div><div class='output co'>#&gt;   [1]  0.47919925  1.09691703  0.35565569 -1.49749765  0.60274280  0.72628636
#&gt;   [7] -0.63269276  0.97337347 -0.01497498  0.47919925 -1.37395409  2.20880903
#&gt;  [13]  0.10856858 -0.50914920  0.35565569  1.22046058  0.10856858 -0.87977987
#&gt;  [19]  1.83817836 -0.01497498  1.22046058 -1.49749765  1.83817836  0.47919925
#&gt;  [25]  0.72628636  0.10856858  1.09691703 -0.38560564  0.60274280  1.96172192
#&gt;  [31]  1.09691703  0.97337347  1.22046058  0.10856858 -0.50914920  0.35565569
#&gt;  [37] -1.25041054  1.46754769  0.84982991  0.84982991  0.60274280 -1.25041054
#&gt;  [43] -1.49749765 -1.49749765 -1.62104120 -0.01497498 -0.87977987 -1.74458476
#&gt;  [49] -0.50914920  0.97337347 -1.37395409 -0.50914920 -1.74458476 -1.49749765
#&gt;  [55]  0.23211214  0.47919925          NA  0.35565569 -0.01497498 -0.87977987
#&gt;  [61]  0.97337347  0.72628636  1.09691703 -0.63269276  0.97337347  1.09691703
#&gt;  [67] -0.38560564  0.23211214  0.10856858 -1.37395409  0.35565569          NA
#&gt;  [73]  1.46754769 -1.62104120  1.22046058 -0.01497498 -1.25041054  1.59109125
#&gt;  [79] -0.50914920 -0.38560564 -0.26206209          NA -0.38560564 -0.38560564
#&gt;  [85] -0.01497498 -0.26206209 -1.49749765 -1.62104120 -0.13851853  0.60274280
#&gt;  [91] -0.01497498 -0.26206209 -1.62104120  1.83817836 -1.74458476  1.34400414
#&gt;  [97] -1.62104120  1.34400414  0.72628636 -0.26206209 -0.38560564 -1.62104120
#&gt; [103] -0.38560564  0.10856858  1.22046058 -1.25041054 -0.50914920 -0.50914920
#&gt; [109]  0.10856858  0.10856858 -0.63269276  0.35565569  1.46754769  0.10856858
#&gt; [115] -0.63269276  1.34400414  0.47919925  0.35565569 -0.75623631  0.60274280
#&gt; [121]  1.34400414 -1.74458476  0.60274280 -0.87977987  1.96172192 -1.49749765
#&gt; [127]  0.23211214  1.59109125  0.47919925 -0.63269276  1.46754769 -0.13851853
#&gt; [133]  0.23211214 -0.38560564  1.71463481  2.20880903  1.71463481  0.23211214
#&gt; [139] -0.50914920  0.60274280 -0.13851853  0.60274280  0.97337347  0.47919925
#&gt; [145]  1.83817836  0.72628636 -1.12686698 -1.25041054 -0.38560564  0.47919925
#&gt; [151]  1.46754769  1.34400414  0.97337347  1.46754769 -0.87977987 -0.75623631
#&gt; [157] -0.01497498  0.60274280  0.35565569 -1.74458476 -0.13851853  1.83817836
#&gt; [163]  1.46754769          NA  0.10856858 -1.12686698  0.60274280  0.35565569
#&gt; [169] -0.38560564 -0.26206209 -1.62104120  1.34400414 -0.38560564 -1.25041054
#&gt; [175]  1.09691703 -1.00332342  1.71463481  2.20880903  0.60274280 -0.01497498
#&gt; [181]  1.46754769  0.60274280 -0.50914920  0.23211214 -0.26206209 -0.50914920
#&gt; [187] -0.63269276  1.59109125 -0.01497498 -0.63269276 -0.38560564          NA
#&gt; [193]  0.60274280 -1.74458476  0.72628636 -0.50914920  1.34400414  0.47919925
#&gt; [199]  0.97337347  0.84982991  1.71463481  1.59109125  1.59109125  0.60274280
#&gt; [205]  0.47919925  0.35565569  0.97337347  1.22046058  1.46754769  0.60274280
#&gt; [211]  1.71463481  0.72628636 -0.01497498  0.60274280 -1.74458476  1.22046058
#&gt; [217]  0.60274280  0.23211214 -0.26206209 -1.74458476  1.71463481  2.08526547
#&gt; [223]  1.34400414  0.84982991  1.09691703 -0.01497498  1.46754769  0.60274280
#&gt; [229] -1.00332342 -1.49749765  0.97337347  0.60274280  0.97337347  0.60274280
#&gt; [235]  0.84982991  0.47919925 -1.25041054 -0.50914920 -0.01497498 -0.38560564
#&gt; [241] -0.38560564  0.35565569  1.09691703  1.34400414  0.97337347 -0.38560564
#&gt; [247] -0.38560564  0.84982991  0.47919925  1.22046058  0.35565569 -0.01497498
#&gt; [253] -1.49749765 -0.75623631  1.22046058  1.96172192 -1.74458476  1.22046058
#&gt; [259]  0.47919925  0.84982991  0.35565569  1.71463481  1.34400414 -0.01497498
#&gt; [265]  2.20880903 -0.13851853 -0.63269276  0.84982991  1.09691703 -0.26206209
#&gt; [271] -0.38560564 -0.63269276 -0.38560564 -1.00332342 -0.63269276  0.35565569
#&gt; [277]  0.35565569 -0.63269276 -0.75623631 -1.49749765 -1.12686698 -1.12686698
#&gt; [283] -1.12686698 -1.49749765  0.10856858 -1.25041054  1.22046058  0.47919925
#&gt; [289]  0.47919925 -1.49749765  0.60274280  1.34400414  0.10856858  0.23211214
#&gt; [295]  0.97337347 -0.75623631 -1.00332342  0.10856858 -1.25041054 -0.75623631
#&gt; [301]  1.09691703 -0.75623631 -0.13851853  0.84982991 -0.50914920  1.22046058
#&gt; [307]  0.47919925 -0.13851853 -1.25041054 -1.12686698  0.84982991 -1.49749765
#&gt; [313] -0.63269276  0.97337347 -1.62104120 -1.37395409 -0.87977987  0.10856858
#&gt; [319]  1.22046058  0.60274280  1.71463481  0.84982991  0.60274280  0.84982991
#&gt; [325]  0.47919925  0.84982991  1.09691703 -0.50914920 -0.38560564          NA
#&gt; [331]  0.23211214 -0.13851853  0.47919925  1.83817836  0.60274280 -1.00332342
#&gt; [337]  0.84982991  1.22046058  1.71463481 -0.50914920 -0.75623631 -1.12686698
#&gt; [343] -0.50914920          NA -0.50914920  2.95007036 -1.12686698  0.60274280
#&gt; [349] -0.13851853  0.72628636  0.23211214  1.34400414 -0.38560564 -0.50914920
#&gt; [355] -0.63269276 -0.50914920  1.22046058 -0.75623631 -0.01497498  0.47919925
#&gt; [361]  1.46754769  0.23211214 -0.26206209 -1.74458476 -0.75623631 -0.75623631
#&gt; [367] -1.25041054 -0.01497498  0.35565569 -0.38560564  0.60274280  0.84982991
#&gt; [373]  1.09691703 -0.38560564  1.83817836 -0.13851853 -1.49749765  0.23211214
#&gt; [379] -1.25041054 -0.26206209 -0.75623631 -1.12686698  0.35565569  1.71463481
#&gt; [385]  0.23211214 -1.12686698 -0.13851853  0.60274280  0.47919925  0.35565569
#&gt; [391]  0.72628636  0.47919925 -1.37395409 -1.12686698 -0.38560564 -0.75623631
#&gt; [397] -0.38560564  0.10856858 -1.49749765 -0.26206209 -0.01497498 -0.87977987
#&gt; [403]  1.34400414  1.34400414 -1.62104120  0.10856858  0.23211214  0.72628636
#&gt; [409]  0.47919925  0.72628636  0.60274280 -1.74458476 -1.00332342 -1.37395409
#&gt; [415] -1.74458476 -0.75623631 -1.37395409 -1.49749765 -0.75623631  0.60274280
#&gt; [421]  2.33235258 -0.13851853  0.35565569  1.22046058  0.60274280 -1.12686698
#&gt; [427] -0.13851853  0.35565569  1.83817836  1.22046058 -0.75623631  0.10856858
#&gt; [433]  0.60274280 -0.13851853  0.47919925 -0.26206209  0.35565569  0.23211214
#&gt; [439] -0.87977987  1.09691703  0.10856858 -0.01497498 -1.62104120  0.84982991
#&gt; [445]  0.72628636 -0.01497498  0.60274280          NA  0.97337347 -1.00332342
#&gt; [451] -1.00332342 -0.38560564  0.10856858  0.23211214  1.34400414  0.35565569
#&gt; [457] -0.26206209  1.96172192  0.84982991  0.35565569  1.34400414 -0.01497498
#&gt; [463]  1.96172192  0.97337347 -0.13851853  0.47919925 -0.50914920  0.10856858
#&gt; [469] -0.87977987 -0.38560564  0.60274280 -1.62104120 -0.26206209  0.60274280
#&gt; [475] -1.37395409 -0.13851853 -1.74458476 -0.87977987 -1.49749765 -0.13851853
#&gt; [481] -1.49749765  0.35565569 -0.50914920  0.35565569 -0.01497498 -0.38560564
#&gt; [487]  1.22046058  1.59109125 -1.62104120  1.22046058 -0.01497498 -0.75623631
#&gt; [493]  1.22046058 -0.01497498          NA  0.23211214  0.60274280 -0.26206209
#&gt; [499] -0.75623631 -0.01497498 -0.75623631  0.10856858 -0.75623631  1.09691703
#&gt; [505]  0.35565569  1.71463481 -1.12686698 -1.25041054 -1.12686698  0.84982991
#&gt; [511] -0.50914920  0.23211214 -1.74458476  0.84982991  1.46754769 -0.87977987
#&gt; [517]  0.97337347 -0.26206209 -1.74458476  0.23211214 -0.87977987  1.71463481
#&gt; [523] -1.74458476 -0.26206209 -0.26206209 -0.38560564  0.72628636 -0.01497498
#&gt; [529]  0.35565569  0.47919925  0.84982991 -1.00332342 -0.50914920  0.47919925
#&gt; [535] -0.13851853 -0.63269276  1.09691703  0.84982991  0.35565569  1.22046058
#&gt; [541]  1.46754769  1.34400414 -0.26206209 -1.74458476 -1.25041054 -1.37395409
#&gt; [547] -1.12686698  0.35565569 -0.26206209  0.35565569 -1.25041054  0.23211214
#&gt; [553]  0.84982991  0.72628636 -1.49749765 -1.12686698 -0.13851853  0.47919925
#&gt; [559]  0.23211214 -0.63269276 -0.13851853  0.47919925 -1.25041054  2.20880903
#&gt; [565] -1.12686698  1.59109125  1.46754769 -1.74458476          NA  1.83817836
#&gt; [571] -1.25041054 -0.13851853  0.97337347  0.35565569  0.60274280 -0.01497498
#&gt; [577]  0.72628636 -1.74458476 -0.38560564 -1.74458476 -0.13851853  1.46754769
#&gt; [583]  1.09691703  0.47919925 -0.75623631 -0.01497498  0.84982991  0.35565569
#&gt; [589] -0.50914920 -1.62104120  1.71463481  0.84982991  0.84982991 -1.25041054
#&gt; [595] -1.62104120  0.47919925 -1.74458476 -1.00332342  0.47919925  1.59109125
#&gt; [601]  0.47919925  1.96172192 -0.38560564  0.23211214 -0.01497498  0.97337347
#&gt; [607] -0.63269276 -1.12686698  0.10856858 -0.50914920 -1.37395409 -1.25041054
#&gt; [613] -1.37395409 -1.12686698  1.22046058          NA  0.47919925 -1.12686698
#&gt; [619]  0.35565569  0.60274280  0.35565569  0.10856858  0.84982991 -1.25041054
#&gt; [625]  0.97337347 -1.00332342 -1.62104120  0.72628636  0.72628636  1.96172192
#&gt; [631] -0.38560564 -1.25041054 -1.37395409  0.35565569  1.59109125 -1.62104120
#&gt; [637] -0.63269276 -0.50914920  1.34400414 -0.87977987  1.59109125 -1.12686698
#&gt; [643] -0.01497498 -0.01497498 -1.25041054 -1.12686698  0.35565569 -0.01497498
#&gt; [649] -0.87977987 -0.38560564 -1.74458476  1.59109125 -1.12686698  1.22046058
#&gt; [655] -0.87977987 -0.50914920 -0.75623631  0.35565569  0.10856858  0.35565569
#&gt; [661]  0.35565569 -1.00332342 -0.26206209 -0.75623631  0.10856858 -1.00332342
#&gt; [667] -1.74458476  0.47919925 -1.49749765 -1.37395409 -1.00332342 -0.26206209
#&gt; [673] -0.87977987 -1.37395409 -0.26206209 -1.12686698  0.60274280  1.22046058
#&gt; [679] -1.37395409  1.22046058 -1.37395409 -0.87977987 -0.13851853  0.60274280
#&gt; [685]  1.59109125 -1.37395409 -1.62104120 -1.00332342 -1.74458476  0.23211214
#&gt; [691]  0.35565569 -0.50914920  0.10856858 -1.12686698  1.46754769  1.83817836
#&gt; [697] -1.62104120  0.97337347  0.84982991  0.47919925 -0.75623631 -1.12686698
#&gt; [703] -0.75623631  0.47919925 -0.38560564  1.34400414 -0.87977987 -0.13851853
#&gt; [709] -1.00332342 -0.87977987  0.84982991 -1.12686698 -1.49749765 -1.74458476
#&gt; [715] -0.63269276 -0.38560564 -0.01497498 -1.62104120 -0.75623631  1.34400414
#&gt; [721] -1.37395409 -1.49749765  0.84982991 -0.01497498 -0.50914920  0.72628636
#&gt; [727] -0.26206209 -0.01497498  1.71463481  0.10856858 -0.26206209  0.23211214
#&gt; [733]  0.10856858  0.84982991 -1.49749765  1.46754769 -0.87977987  0.35565569
#&gt; [739]  1.83817836  1.22046058  0.47919925 -0.50914920  1.22046058  0.10856858
#&gt; [745]  0.60274280 -0.26206209 -0.50914920 -0.01497498  0.72628636  0.97337347
#&gt; [751]  0.35565569  1.34400414  0.47919925  0.72628636  0.10856858 -1.62104120
#&gt; [757] -0.01497498  1.46754769  1.22046058 -1.25041054 -0.75623631  0.47919925
#&gt; [763] -0.01497498  0.72628636  0.23211214  0.72628636 -1.62104120 -0.63269276
#&gt; [769] -0.75623631 -0.38560564  0.47919925 -0.13851853  1.09691703  1.22046058
#&gt; [775]  0.60274280 -0.75623631  1.59109125 -1.74458476 -1.25041054 -0.26206209
#&gt; [781] -0.01497498 -0.75623631 -1.37395409 -1.25041054  0.10856858  0.23211214
#&gt; [787] -1.49749765 -0.63269276  1.09691703 -1.12686698 -0.75623631 -1.49749765
#&gt; [793] -0.63269276  0.97337347  1.46754769 -0.38560564  0.97337347 -0.87977987
#&gt; [799] -0.26206209  1.22046058  0.60274280 -0.13851853  0.23211214 -0.63269276
#&gt; [805]  0.10856858 -0.26206209 -0.01497498  1.22046058  1.34400414  0.97337347
#&gt; [811]  0.23211214  0.35565569 -1.00332342 -0.50914920 -1.25041054 -0.26206209
#&gt; [817]  0.23211214  0.97337347 -0.75623631 -1.74458476 -1.37395409 -0.87977987
#&gt; [823] -1.12686698 -1.37395409 -1.12686698 -1.37395409 -1.25041054 -0.13851853
#&gt; [829] -0.63269276 -1.37395409  0.84982991 -0.01497498 -0.50914920  0.72628636
#&gt; [835] -1.00332342 -0.63269276 -0.63269276  0.84982991 -1.62104120 -1.12686698
#&gt; [841]  0.84982991  0.72628636  0.35565569 -0.01497498 -1.25041054 -1.49749765
#&gt; [847]  1.83817836 -0.50914920 -0.01497498 -0.13851853 -1.62104120 -1.74458476
#&gt; [853]  1.09691703 -0.13851853  0.47919925  0.97337347  2.45589614 -1.62104120
#&gt; [859]  1.22046058 -1.00332342  0.35565569 -1.25041054  0.23211214  0.60274280
#&gt; [865]  1.34400414  0.10856858 -0.01497498 -1.49749765 -1.00332342 -0.50914920
#&gt; [871] -1.37395409 -0.50914920 -0.75623631  0.23211214 -0.38560564 -1.74458476
#&gt; [877]  0.47919925 -0.01497498 -0.75623631 -0.13851853  0.47919925 -0.63269276
#&gt; [883]  0.23211214  0.97337347 -1.49749765 -0.01497498  0.23211214 -1.12686698
#&gt; [889] -1.74458476  1.71463481 -0.63269276 -0.26206209 -0.50914920  1.34400414
#&gt; [895]  1.46754769  0.84982991 -1.74458476  0.35565569  0.10856858 -0.63269276
#&gt; [901] -1.74458476 -1.49749765          NA          NA          NA          NA
#&gt; [907]          NA          NA
#&gt; attr(,"label")
#&gt; [1] "elder' age"</div><div class='input'><span class='fu'>std</span>(<span class='no'>efc</span>, <span class='no'>e17age</span>) <span class='co'># returns a tibble</span></div><div class='output co'>#&gt; # A tibble: 908 x 27
#&gt;    c12hour e15relat e16sex e17age e42dep c82cop1 c83cop2 c84cop3 c85cop4 c86cop5
#&gt;      &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
#&gt;  1      16        2      2     83      3       3       2       2       2       1
#&gt;  2     148        2      2     88      3       3       3       3       3       4
#&gt;  3      70        1      2     82      3       2       2       1       4       1
#&gt;  4     168        1      2     67      4       4       1       3       1       1
#&gt;  5     168        2      2     84      4       3       2       1       2       2
#&gt;  6      16        2      2     85      4       2       2       3       3       3
#&gt;  7     161        1      1     74      4       4       2       4       1       1
#&gt;  8     110        4      2     87      4       3       2       2       1       1
#&gt;  9      28        2      2     79      4       3       2       3       2       2
#&gt; 10      40        2      2     83      4       3       2       1       2       1
#&gt; # ... with 898 more rows, and 17 more variables: c87cop6 &lt;dbl&gt;, c88cop7 &lt;dbl&gt;,
#&gt; #   c89cop8 &lt;dbl&gt;, c90cop9 &lt;dbl&gt;, c160age &lt;dbl&gt;, c161sex &lt;dbl&gt;, c172code &lt;dbl&gt;,
#&gt; #   c175empl &lt;dbl&gt;, barthtot &lt;dbl&gt;, neg_c_7 &lt;dbl&gt;, pos_v_4 &lt;dbl&gt;, quol_5 &lt;dbl&gt;,
#&gt; #   resttotn &lt;dbl&gt;, tot_sc_e &lt;dbl&gt;, n4pstu &lt;dbl&gt;, nur_pst &lt;dbl&gt;, e17age_z &lt;dbl&gt;</div><div class='input'>
<span class='co'># works with mutate()</span>
<span class='fu'>library</span>(<span class='no'>dplyr</span>)
<span class='no'>efc</span> <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='http://dplyr.tidyverse.org/reference/select.html'>select</a></span>(<span class='no'>e17age</span>, <span class='no'>neg_c_7</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='http://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span>(<span class='kw'>age_std</span> <span class='kw'>=</span> <span class='fu'>std</span>(<span class='no'>e17age</span>), <span class='kw'>burden</span> <span class='kw'>=</span> <span class='fu'>center</span>(<span class='no'>neg_c_7</span>)) <span class='kw'>%&gt;%</span>
  <span class='fu'>head</span>()</div><div class='output co'>#&gt;   e17age neg_c_7    age_std     burden
#&gt; 1     83      12  0.4791992  0.1502242
#&gt; 2     88      20  1.0969170  8.1502242
#&gt; 3     82      11  0.3556557 -0.8497758
#&gt; 4     67      10 -1.4974976 -1.8497758
#&gt; 5     84      12  0.6027428  0.1502242
#&gt; 6     85      19  0.7262864  7.1502242</div><div class='input'>
<span class='co'># works also with grouped data frames</span>
<span class='no'>mtcars</span> <span class='kw'>%&gt;%</span> <span class='fu'>std</span>(<span class='no'>disp</span>)</div><div class='output co'>#&gt; # A tibble: 32 x 12
#&gt;      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb  disp_z
#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;
#&gt;  1  21       6  160    110  3.9   2.62  16.5     0     1     4     4 -0.571 
#&gt;  2  21       6  160    110  3.9   2.88  17.0     0     1     4     4 -0.571 
#&gt;  3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1 -0.990 
#&gt;  4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1  0.220 
#&gt;  5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2  1.04  
#&gt;  6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1 -0.0462
#&gt;  7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4  1.04  
#&gt;  8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2 -0.678 
#&gt;  9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2 -0.726 
#&gt; 10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4 -0.509 
#&gt; # ... with 22 more rows</div><div class='input'>
<span class='co'># compare new column "disp_z" w/ output above</span>
<span class='no'>mtcars</span> <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='http://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span>(<span class='no'>cyl</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'>std</span>(<span class='no'>disp</span>)</div><div class='output co'>#&gt; # A tibble: 32 x 12
#&gt; # Groups:   cyl [3]
#&gt;      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb disp_z
#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
#&gt;  1  21       6  160    110  3.9   2.62  16.5     0     1     4     4 -0.561
#&gt;  2  21       6  160    110  3.9   2.88  17.0     0     1     4     4 -0.561
#&gt;  3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1  0.107
#&gt;  4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1  1.80 
#&gt;  5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2  0.102
#&gt;  6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1  1.00 
#&gt;  7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4  0.102
#&gt;  8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2  1.55 
#&gt;  9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2  1.33 
#&gt; 10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4 -0.378
#&gt; # ... with 22 more rows</div><div class='input'>
<span class='fu'>data</span>(<span class='no'>iris</span>)
<span class='co'># also standardize factors</span>
<span class='fu'>std</span>(<span class='no'>iris</span>, <span class='kw'>include.fac</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>append</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; # A tibble: 150 x 5
#&gt;    Sepal.Length_z Sepal.Width_z Petal.Length_z Petal.Width_z Species_z
#&gt;             &lt;dbl&gt;         &lt;dbl&gt;          &lt;dbl&gt;         &lt;dbl&gt;     &lt;dbl&gt;
#&gt;  1         -0.898        1.02            -1.34         -1.31     -1.22
#&gt;  2         -1.14        -0.132           -1.34         -1.31     -1.22
#&gt;  3         -1.38         0.327           -1.39         -1.31     -1.22
#&gt;  4         -1.50         0.0979          -1.28         -1.31     -1.22
#&gt;  5         -1.02         1.25            -1.34         -1.31     -1.22
#&gt;  6         -0.535        1.93            -1.17         -1.05     -1.22
#&gt;  7         -1.50         0.786           -1.34         -1.18     -1.22
#&gt;  8         -1.02         0.786           -1.28         -1.31     -1.22
#&gt;  9         -1.74        -0.361           -1.34         -1.31     -1.22
#&gt; 10         -1.14         0.0979          -1.28         -1.44     -1.22
#&gt; # ... with 140 more rows</div><div class='input'><span class='co'># don't standardize factors</span>
<span class='fu'>std</span>(<span class='no'>iris</span>, <span class='kw'>include.fac</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>append</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; # A tibble: 150 x 5
#&gt;    Sepal.Length_z Sepal.Width_z Petal.Length_z Petal.Width_z Species_z
#&gt;             &lt;dbl&gt;         &lt;dbl&gt;          &lt;dbl&gt;         &lt;dbl&gt; &lt;fct&gt;    
#&gt;  1         -0.898        1.02            -1.34         -1.31 setosa   
#&gt;  2         -1.14        -0.132           -1.34         -1.31 setosa   
#&gt;  3         -1.38         0.327           -1.39         -1.31 setosa   
#&gt;  4         -1.50         0.0979          -1.28         -1.31 setosa   
#&gt;  5         -1.02         1.25            -1.34         -1.31 setosa   
#&gt;  6         -0.535        1.93            -1.17         -1.05 setosa   
#&gt;  7         -1.50         0.786           -1.34         -1.18 setosa   
#&gt;  8         -1.02         0.786           -1.28         -1.31 setosa   
#&gt;  9         -1.74        -0.361           -1.34         -1.31 setosa   
#&gt; 10         -1.14         0.0979          -1.28         -1.44 setosa   
#&gt; # ... with 140 more rows</div><div class='input'>
<span class='co'># standardize only variables with more than 10 unique values</span>
<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>x</span>) <span class='kw pkg'>dplyr</span><span class='kw ns'>::</span><span class='fu'><a href='http://dplyr.tidyverse.org/reference/n_distinct.html'>n_distinct</a></span>(<span class='no'>x</span>) <span class='kw'>&gt;</span> <span class='fl'>10</span>
<span class='fu'>std_if</span>(<span class='no'>efc</span>, <span class='kw'>predicate</span> <span class='kw'>=</span> <span class='no'>p</span>, <span class='kw'>append</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; # A tibble: 908 x 7
#&gt;    c12hour_z e17age_z c160age_z barthtot_z neg_c_7_z pos_v_4_z quol_5_z
#&gt;        &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
#&gt;  1   -0.520    0.479     0.190       0.354    0.0389    -0.213  -0.0695
#&gt;  2    2.08     1.10      0.0402      0.354    2.11      -0.658  -0.823 
#&gt;  3    0.543    0.356     1.99       -1.00    -0.220      0.233  -1.39  
#&gt;  4    2.47    -1.50      1.16       -2.19    -0.479      1.12   -0.446 
#&gt;  5    2.47     0.603    -0.484      -1.34     0.0389     1.12    0.872 
#&gt;  6   -0.520    0.726     0.190      -0.154    1.85      -1.55   -1.20  
#&gt;  7    2.33    -0.633     0.565      -2.02     0.816      0.233   1.06  
#&gt;  8    1.33     0.973     1.01       -1.00    -0.220      0.679   1.06  
#&gt;  9   -0.283   -0.0150    0.415      -1.68     0.816      0.233  -1.20  
#&gt; 10   -0.0472   0.479    -0.334      -2.19    -0.479      0.233   0.119 
#&gt; # ... with 898 more rows</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Daniel Lüdecke.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

